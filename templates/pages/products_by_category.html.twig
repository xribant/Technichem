{% extends 'base.html.twig' %}

{% block title %}{{ category.name }}{% endblock %}

{% block content %}
 <section class="wrapper bg-gradient-reverse-primary text-white" style="height: 11rem;">
    <div class="container pt-10 pb-19 pt-md-14 pb-md-20 text-center">
        <div class="row">
            <div class="col-sm-10 col-md-12 col-lg-12 col-xl-12 col-xxl-12 mx-auto">
            <h1 class="display-1 mb-3 text-uppercase">{{ category.name }}</h1>
            <nav class="d-inline-block" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{{ path('app_homepage') }}">Accueil</a></li>
                    <li class="breadcrumb-item"><a href="{{ path('our_products_page') }}">Nos produits</a></li>
                    <li class="breadcrumb-item active" aria-current="page">{{ category.name }}</li>
                </ol>
            </nav>
            <!-- /nav -->
            </div>
            <!-- /column -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /.container -->
</section>

<section class="wrapper bg-light">
      <div class="container pb-14 pb-md-16 pt-12">
        <div class="row gy-10">
          <div class="col-lg-9 order-lg-2">
            <div class="row align-items-center mb-10 position-relative zindex-1">
              <div class="col-md-5 col-xl-8 pe-xl-20">
                <p class="mb-0 text-muted">Affichage de 1 à 9 sur {{ products|length }} résultats</p>
              </div>
              <!--/column -->
              <div class="col-md-5 col-xl-4 ms-md-auto text-md-end mt-5 mt-md-0">
                <div class="form-select-wrapper">
                  <select class="form-select">
                    <option value="all">Tout</option>
                    <option value="popularity">Façades</option>
                    <option value="rating">Sols</option>
                    <option value="newness">Toitures</option>
                  </select>
                </div>
                <!--/.form-select-wrapper -->
              </div>
              <!--/column -->
            </div>
            <!--/.row -->
            <div class="grid grid-view projects-masonry shop mb-13">
              <div class="row gx-md-8 gy-10 gy-md-13 isotope">

                {% for product in products %}
                    
                    <div class="project item col-md-4 col-xl-3">
                    <figure class="rounded mb-6">
                        {% if product.productImages|first %} 
                            <img src="{{ vich_uploader_asset(product.productImages|first, 'imageFile') }}"  alt="" />
                        {% else %}  
                            <img src="{{ asset('img/placeholder_image_720_500.png') }}"  alt="" /> 
                        {% endif %}
                        
                        <a href="{{ path('product_details_page', {'category_slug': category.slug ,'product_slug': product.slug }) }}" class="item-cart bg-sky"><i class="uil uil-eye"></i> Détails</a>
                        <span class="avatar bg-pink text-white w-10 h-10 position-absolute text-uppercase fs-13" style="top: 1rem; left: 1rem;"><span>Top!</span></span>
                    </figure>
                    <div class="post-header">
                        <div class="d-flex flex-row align-items-center justify-content-between mb-2">
                        <div class="post-category text-ash mb-0">Shoes</div>
                        <span class="ratings five"></span>
                        </div>
                        <h2 class="post-title h3 fs-22"><a href="./shop-product.html" class="link-dark">{{ product.name }}</a></h2>
                        <p class="price"><del><span class="amount">$55.00</span></del> <ins><span class="amount">$45.00</span></ins></p>
                    </div>
                    <!-- /.post-header -->
                    </div>
                    <!-- /.item -->
                {% endfor %}
               
              </div>
              <!-- /.row -->
            </div>
            <!-- /.grid -->
            <nav class="d-flex" aria-label="pagination">
              <ul class="pagination">
                <li class="page-item disabled">
                  <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true"><i class="uil uil-arrow-left"></i></span>
                  </a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item">
                  <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true"><i class="uil uil-arrow-right"></i></span>
                  </a>
                </li>
              </ul>
              <!-- /.pagination -->
            </nav>
            <!-- /nav -->
          </div>
          <!-- /column -->
          <aside class="col-lg-3 sidebar">
            <div class="widget mt-1">
              <h4 class="widget-title mb-3">Categories</h4>
              <ul class="list-unstyled ps-0">
                {% for category in product_categories.getAll %}
                <li class="mb-1">
                  <a href="#" class="align-items-center rounded collapsed link-body" data-bs-toggle="collapse" data-bs-target="#electronics-collapse" aria-expanded="false"> {{ category.name }} <span class="fs-sm text-muted ms-1">({{ category.products|length }})</span>
                  </a>
                </li>
               {% endfor %}
              </ul>
            </div>
            <!-- /.widget -->
            <div class="widget">
              <h4 class="widget-title mb-3">Rating</h4>
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="rating" id="rating5" checked>
                <label class="form-check-label" for="rating5">
                  <span class="ratings five"></span>
                </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="rating" id="rating4">
                <label class="form-check-label" for="rating4">
                  <span class="ratings four"></span>
                </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="rating" id="rating3">
                <label class="form-check-label" for="rating3">
                  <span class="ratings three"></span>
                </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="rating" id="rating2">
                <label class="form-check-label" for="rating2">
                  <span class="ratings two"></span>
                </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="rating" id="rating1">
                <label class="form-check-label" for="rating1">
                  <span class="ratings one"></span>
                </label>
              </div>
              <!-- /.form-check -->
            </div>
            <!-- /.widget -->
            <div class="widget">
              <h4 class="widget-title mb-3">Size</h4>
              <div class="form-check mb-1">
                <input class="form-check-input" type="checkbox" id="xs" checked>
                <label class="form-check-label" for="xs">XS <span class="fs-sm text-muted ms-1">(23)</span></label>
              </div>
              <div class="form-check mb-1">
                <input class="form-check-input" type="checkbox" id="s">
                <label class="form-check-label" for="s">S <span class="fs-sm text-muted ms-1">(253)</span></label>
              </div>
              <div class="form-check mb-1">
                <input class="form-check-input" type="checkbox" id="m">
                <label class="form-check-label" for="m">M <span class="fs-sm text-muted ms-1">(65)</span></label>
              </div>
              <div class="form-check mb-1">
                <input class="form-check-input" type="checkbox" id="l">
                <label class="form-check-label" for="l">L <span class="fs-sm text-muted ms-1">(156)</span></label>
              </div>
              <div class="form-check mb-1">
                <input class="form-check-input" type="checkbox" id="xl">
                <label class="form-check-label" for="xl">XL <span class="fs-sm text-muted ms-1">(74)</span></label>
              </div>
            </div>
            <!-- /.widget -->
            <div class="widget">
              <h4 class="widget-title mb-3">Price</h4>
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="price" id="price1" checked>
                <label class="form-check-label" for="price1"> $0.00 - $50.00 </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="price" id="price2">
                <label class="form-check-label" for="price2"> $0.00 - $50.00 </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="price" id="price3">
                <label class="form-check-label" for="price3"> $50.00 - $100.00 </label>
              </div>
              <!-- /.form-check -->
              <div class="form-check mb-1">
                <input class="form-check-input" type="radio" name="price" id="price4">
                <label class="form-check-label" for="price4"> $150.00 - $200.00 </label>
              </div>
              <!-- /.form-check -->
              <div class="row">
                <div class="col-7 col-md-5 col-lg-12 col-xl-10 col-xxl-10">
                  <div class="d-flex align-items-center mt-4">
                    <input type="number" class="form-control form-control-sm" placeholder="$0.00" min="0">
                    <div class="text-muted mx-2">‒</div>
                    <input type="number" class="form-control form-control-sm" placeholder="$50.00" max="50">
                  </div>
                </div>
                <!-- /column -->
              </div>
              <!-- /.row -->
            </div>
            <!-- /.widget -->
          </aside>
          <!-- /column .sidebar -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    </section>
    <!-- /section -->


{% endblock %}
